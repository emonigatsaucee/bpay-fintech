{"ast":null,"code":"import _objectSpread from\"c:/Users/USER/fintech/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{const[user,setUser]=useState(null);const[kycStatus,setKycStatus]=useState(null);const[paymentMethods,setPaymentMethods]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('profile');useEffect(()=>{fetchUserData();},[]);const fetchUserData=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};const[kycRes,userRes,paymentRes]=await Promise.all([axios.get('http://localhost:8000/api/kyc/',config),axios.get('http://localhost:8000/api/user/profile/',config).catch(()=>({data:{}})),axios.get('http://localhost:8000/api/payment-methods/',config).catch(()=>({data:[]}))]);setUser(userRes.data);setPaymentMethods(paymentRes.data);if(kycRes.data.length>0){setKycStatus(kycRes.data[0].status);}else{setKycStatus('NOT_SUBMITTED');}}catch(error){var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';return;}console.error('Error fetching user data:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-2\",children:\"Profile Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Manage your account, verification, and payment methods\"})]}),kycStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl p-4 mb-8 border \".concat(kycStatus==='APPROVED'?'bg-green-900/20 border-green-500/30 text-green-400':kycStatus==='REJECTED'?'bg-red-900/20 border-red-500/30 text-red-400':kycStatus==='PENDING'?'bg-yellow-900/20 border-yellow-500/30 text-yellow-400':'bg-slate-900/20 border-slate-500/30 text-slate-400'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(kycStatus==='APPROVED'?'bi-shield-check':kycStatus==='REJECTED'?'bi-shield-x':kycStatus==='PENDING'?'bi-shield-exclamation':'bi-shield',\" text-xl\")}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:kycStatus==='APPROVED'?'Account Verified':kycStatus==='REJECTED'?'Verification Failed':kycStatus==='PENDING'?'Document Under Review':'Account Not Verified'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-80\",children:kycStatus==='APPROVED'?'Full access to all features':kycStatus==='REJECTED'?'Please resubmit your documents':kycStatus==='PENDING'?'Your document is being reviewed':'Upload your ID to verify your account and increase limits'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1 mb-8 bg-slate-800 p-1 rounded-lg\",children:[{id:'profile',label:'Profile',icon:'person'},{id:'kyc',label:'Verification',icon:'shield-check'},{id:'payments',label:'Payment Methods',icon:'credit-card'}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg text-sm font-medium transition-all \".concat(activeTab===tab.id?'bg-blue-600 text-white':'text-slate-400 hover:text-white hover:bg-slate-700'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-\".concat(tab.icon)}),/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 border border-slate-700\",children:[activeTab==='profile'&&/*#__PURE__*/_jsx(ProfileTab,{user:user,setUser:setUser}),activeTab==='kyc'&&/*#__PURE__*/_jsx(KYCTab,{kycStatus:kycStatus,onUpdate:fetchUserData}),activeTab==='payments'&&/*#__PURE__*/_jsx(PaymentMethodsTab,{methods:paymentMethods,onUpdate:fetchUserData})]})]})});};const ProfileTab=_ref=>{let{user,setUser}=_ref;const updateProfile=async()=>{try{const token=localStorage.getItem('token');await axios.put('http://localhost:8000/api/user/profile/update/',{full_name:user===null||user===void 0?void 0:user.full_name},{headers:{Authorization:\"Bearer \".concat(token)}});alert('Profile updated successfully!');// Refresh profile data\nwindow.location.reload();}catch(error){alert('Failed to update profile');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Account Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:(user===null||user===void 0?void 0:user.email)||'',disabled:true,className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Full Name (as on documents)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(user===null||user===void 0?void 0:user.full_name)||'',onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{full_name:e.target.value})),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter your full name as it appears on your ID\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:updateProfile,className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\",children:\"Update Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium mb-2\",children:\"Account Limits\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Daily Transaction Limit:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[\"$\",(user===null||user===void 0?void 0:user.daily_limit)||100,\" \",user!==null&&user!==void 0&&user.is_verified?'(Verified)':'(Unverified)']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400\",children:\"Monthly Limit:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[\"$\",(user===null||user===void 0?void 0:user.monthly_limit)||1000,\" \",user!==null&&user!==void 0&&user.is_verified?'(Verified)':'(Unverified)']})]})]})]})]});};const KYCTab=_ref2=>{let{kycStatus,onUpdate}=_ref2;const[frontFile,setFrontFile]=useState(null);const[backFile,setBackFile]=useState(null);const[docType,setDocType]=useState('');const[uploading,setUploading]=useState(false);const[country,setCountry]=useState('');const handleFileUpload=async e=>{e.preventDefault();// Validation based on document type\nif(docType==='passport'){if(!frontFile){alert('Please upload passport document');return;}}else if(docType==='national_id'||docType==='drivers_license'){if(!frontFile||!backFile){alert('Please upload both front and back of the document');return;}}else{alert('Please select document type');return;}setUploading(true);try{const formData=new FormData();formData.append('document',frontFile);if(backFile){formData.append('document_back',backFile);}formData.append('doc_type',docType);formData.append('country',country);const token=localStorage.getItem('token');const response=await axios.post('http://localhost:8000/api/kyc/',formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}});// Show success message with next steps\nalert('Document uploaded successfully! Your document is being analyzed. You will be notified once verification is complete.');// Reset form\nsetFrontFile(null);setBackFile(null);setDocType('');setCountry('');// Refresh data to show new status\nonUpdate();}catch(error){var _error$response2,_error$response3;console.error('Upload error:',error);console.error('Error response:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);alert('Upload failed: '+JSON.stringify(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message||'Unknown error'));}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Identity Verification\"}),kycStatus==='PENDING'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-yellow-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-yellow-400 font-medium\",children:\"Document Under Review\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-300 text-sm\",children:\"Your document is being analyzed. This typically takes 2-5 minutes for automatic verification, or up to 24 hours if manual review is required.\"})]})]})}),kycStatus==='REJECTED'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle text-red-400 text-xl\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-red-400 font-medium\",children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm\",children:\"Please upload a clearer document or contact support.\"})]})]})}),(kycStatus==='NOT_SUBMITTED'||kycStatus==='REJECTED')&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFileUpload,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Country\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setCountry('NG'),className:\"flex items-center justify-center p-3 rounded-lg border transition-all \".concat(country==='NG'?'border-blue-500 bg-blue-600/20':'border-slate-600 bg-slate-700 hover:border-slate-500'),children:/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w40/ng.png\",alt:\"Nigeria\",className:\"w-8 h-6\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setCountry('KE'),className:\"flex items-center justify-center p-3 rounded-lg border transition-all \".concat(country==='KE'?'border-blue-500 bg-blue-600/20':'border-slate-600 bg-slate-700 hover:border-slate-500'),children:/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w40/ke.png\",alt:\"Kenya\",className:\"w-8 h-6\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Document Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:docType,onChange:e=>setDocType(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Document\"}),/*#__PURE__*/_jsx(\"option\",{value:\"passport\",children:\"Passport\"}),/*#__PURE__*/_jsx(\"option\",{value:\"national_id\",children:\"National ID\"}),/*#__PURE__*/_jsx(\"option\",{value:\"drivers_license\",children:\"Driver's License\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:docType==='passport'?'Upload Passport':'Upload Front Side'}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*,.pdf\",onChange:e=>setFrontFile(e.target.files[0]),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\",required:true})]}),(docType==='national_id'||docType==='drivers_license')&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Upload Back Side\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*,.pdf\",onChange:e=>setBackFile(e.target.files[0]),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\",required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:uploading,className:\"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:uploading?'Uploading...':'Upload Document'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium mb-3\",children:\"Verification Benefits\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-sm text-slate-300\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Increased daily limit to $10,000\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Access to all crypto features\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Priority customer support\"})]})]})]})]});};const PaymentMethodsTab=_ref3=>{let{methods,onUpdate}=_ref3;const[showAddMethod,setShowAddMethod]=useState(false);const addPaymentMethod=async methodData=>{try{const token=localStorage.getItem('token');await axios.post('http://localhost:8000/api/payment-methods/',methodData,{headers:{Authorization:\"Bearer \".concat(token)}});setShowAddMethod(false);onUpdate();// Refresh data\n}catch(error){console.error('Error adding payment method:',error);alert('Failed to add payment method');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Payment Methods\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddMethod(true),className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Add Method\"})]}),methods.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-credit-card text-4xl text-slate-600 mb-4 block\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-white mb-2\",children:\"No Payment Methods\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Add bank accounts or mobile money for easy deposits and withdrawals\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:methods.map(method=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(method.type==='bank_ng'?'bi-bank':'bi-phone',\" text-blue-400 text-xl\")}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium\",children:method.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:method.details})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-red-400 hover:text-red-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]},method.id))}),showAddMethod&&/*#__PURE__*/_jsx(AddPaymentMethodModal,{onClose:()=>setShowAddMethod(false),onAdd:addPaymentMethod})]});};const AddPaymentMethodModal=_ref4=>{let{onClose,onAdd}=_ref4;const[type,setType]=useState('');const[accountNumber,setAccountNumber]=useState('');const[bankName,setBankName]=useState('');const[mpesaNumber,setMpesaNumber]=useState('');const handleSubmit=()=>{if(!type){alert('Please select payment method type');return;}let methodData={type};if(type==='bank_ng'){if(!accountNumber||!bankName){alert('Please fill in all bank details');return;}methodData.name=\"\".concat(bankName,\" - \").concat(accountNumber.slice(-4));methodData.details=\"\".concat(accountNumber,\" (\").concat(bankName,\")\");}else if(type==='mpesa'){if(!mpesaNumber){alert('Please enter M-Pesa number');return;}methodData.name=\"M-Pesa - \".concat(mpesaNumber.slice(-4));methodData.details=mpesaNumber;}onAdd(methodData);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Add Payment Method\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-400 hover:text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg text-xl\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_ng\",children:\"Nigerian Bank Account\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mpesa\",children:\"M-Pesa (Kenya)\"})]})]}),type==='bank_ng'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Account Number\",value:accountNumber,onChange:e=>setAccountNumber(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Bank Name\",value:bankName,onChange:e=>setBankName(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"})]}),type==='mpesa'&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"M-Pesa Number (+254...)\",value:mpesaNumber,onChange:e=>setMpesaNumber(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:\"Add Method\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\",children:\"Cancel\"})]})]})]})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","user","setUser","kycStatus","setKycStatus","paymentMethods","setPaymentMethods","loading","setLoading","activeTab","setActiveTab","fetchUserData","token","localStorage","getItem","config","headers","Authorization","concat","kycRes","userRes","paymentRes","Promise","all","get","catch","data","length","status","error","_error$response","response","removeItem","window","location","href","console","className","children","id","label","icon","map","tab","onClick","ProfileTab","KYCTab","onUpdate","PaymentMethodsTab","methods","_ref","updateProfile","put","full_name","alert","reload","type","value","email","disabled","onChange","e","_objectSpread","target","placeholder","daily_limit","is_verified","monthly_limit","_ref2","frontFile","setFrontFile","backFile","setBackFile","docType","setDocType","uploading","setUploading","country","setCountry","handleFileUpload","preventDefault","formData","FormData","append","post","_error$response2","_error$response3","JSON","stringify","message","onSubmit","src","alt","required","accept","files","_ref3","showAddMethod","setShowAddMethod","addPaymentMethod","methodData","method","name","details","AddPaymentMethodModal","onClose","onAdd","_ref4","setType","accountNumber","setAccountNumber","bankName","setBankName","mpesaNumber","setMpesaNumber","handleSubmit","slice"],"sources":["c:/Users/USER/fintech/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Profile = () => {\n  const [user, setUser] = useState(null);\n  const [kycStatus, setKycStatus] = useState(null);\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('profile');\n\n  useEffect(() => {\n    fetchUserData();\n  }, []);\n\n  const fetchUserData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = { headers: { Authorization: `Bearer ${token}` } };\n      \n      const [kycRes, userRes, paymentRes] = await Promise.all([\n        axios.get('http://localhost:8000/api/kyc/', config),\n        axios.get('http://localhost:8000/api/user/profile/', config).catch(() => ({ data: {} })),\n        axios.get('http://localhost:8000/api/payment-methods/', config).catch(() => ({ data: [] }))\n      ]);\n      \n      setUser(userRes.data);\n      setPaymentMethods(paymentRes.data);\n      if (kycRes.data.length > 0) {\n        setKycStatus(kycRes.data[0].status);\n      } else {\n        setKycStatus('NOT_SUBMITTED');\n      }\n    } catch (error) {\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n        return;\n      }\n      console.error('Error fetching user data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-900\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        \n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Profile Settings</h1>\n          <p className=\"text-slate-400\">Manage your account, verification, and payment methods</p>\n        </div>\n\n        {/* Verification Status Banner */}\n        {kycStatus && (\n          <div className={`rounded-xl p-4 mb-8 border ${\n            kycStatus === 'APPROVED' \n              ? 'bg-green-900/20 border-green-500/30 text-green-400'\n              : kycStatus === 'REJECTED'\n              ? 'bg-red-900/20 border-red-500/30 text-red-400'\n              : kycStatus === 'PENDING'\n              ? 'bg-yellow-900/20 border-yellow-500/30 text-yellow-400'\n              : 'bg-slate-900/20 border-slate-500/30 text-slate-400'\n          }`}>\n            <div className=\"flex items-center space-x-3\">\n              <i className={`bi ${\n                kycStatus === 'APPROVED' ? 'bi-shield-check' : \n                kycStatus === 'REJECTED' ? 'bi-shield-x' : \n                kycStatus === 'PENDING' ? 'bi-shield-exclamation' : 'bi-shield'\n              } text-xl`}></i>\n              <div>\n                <h3 className=\"font-medium\">\n                  {kycStatus === 'APPROVED' ? 'Account Verified' : \n                   kycStatus === 'REJECTED' ? 'Verification Failed' : \n                   kycStatus === 'PENDING' ? 'Document Under Review' :\n                   'Account Not Verified'}\n                </h3>\n                <p className=\"text-sm opacity-80\">\n                  {kycStatus === 'APPROVED' ? 'Full access to all features' : \n                   kycStatus === 'REJECTED' ? 'Please resubmit your documents' : \n                   kycStatus === 'PENDING' ? 'Your document is being reviewed' :\n                   'Upload your ID to verify your account and increase limits'}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Tabs */}\n        <div className=\"flex space-x-1 mb-8 bg-slate-800 p-1 rounded-lg\">\n          {[\n            { id: 'profile', label: 'Profile', icon: 'person' },\n            { id: 'kyc', label: 'Verification', icon: 'shield-check' },\n            { id: 'payments', label: 'Payment Methods', icon: 'credit-card' }\n          ].map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg text-sm font-medium transition-all ${\n                activeTab === tab.id\n                  ? 'bg-blue-600 text-white'\n                  : 'text-slate-400 hover:text-white hover:bg-slate-700'\n              }`}\n            >\n              <i className={`bi bi-${tab.icon}`}></i>\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"bg-slate-800 rounded-xl p-6 border border-slate-700\">\n          {activeTab === 'profile' && <ProfileTab user={user} setUser={setUser} />}\n          {activeTab === 'kyc' && <KYCTab kycStatus={kycStatus} onUpdate={fetchUserData} />}\n          {activeTab === 'payments' && <PaymentMethodsTab methods={paymentMethods} onUpdate={fetchUserData} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ProfileTab = ({ user, setUser }) => {\n  const updateProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put('http://localhost:8000/api/user/profile/update/', {\n        full_name: user?.full_name\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      alert('Profile updated successfully!');\n      // Refresh profile data\n      window.location.reload();\n    } catch (error) {\n      alert('Failed to update profile');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-xl font-bold text-white\">Account Information</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Email</label>\n          <input\n            type=\"email\"\n            value={user?.email || ''}\n            disabled\n            className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n          />\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Full Name (as on documents)</label>\n          <input\n            type=\"text\"\n            value={user?.full_name || ''}\n            onChange={(e) => setUser({...user, full_name: e.target.value})}\n            className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Enter your full name as it appears on your ID\"\n          />\n        </div>\n      </div>\n      \n      <button\n        onClick={updateProfile}\n        className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors\"\n      >\n        Update Profile\n      </button>\n\n      <div className=\"bg-slate-900 rounded-lg p-4\">\n        <h3 className=\"text-white font-medium mb-2\">Account Limits</h3>\n        <div className=\"space-y-2 text-sm\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-slate-400\">Daily Transaction Limit:</span>\n            <span className=\"text-white\">${user?.daily_limit || 100} {user?.is_verified ? '(Verified)' : '(Unverified)'}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span className=\"text-slate-400\">Monthly Limit:</span>\n            <span className=\"text-white\">${user?.monthly_limit || 1000} {user?.is_verified ? '(Verified)' : '(Unverified)'}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst KYCTab = ({ kycStatus, onUpdate }) => {\n  const [frontFile, setFrontFile] = useState(null);\n  const [backFile, setBackFile] = useState(null);\n  const [docType, setDocType] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [country, setCountry] = useState('');\n\n  const handleFileUpload = async (e) => {\n    e.preventDefault();\n    \n    // Validation based on document type\n    if (docType === 'passport') {\n      if (!frontFile) {\n        alert('Please upload passport document');\n        return;\n      }\n    } else if (docType === 'national_id' || docType === 'drivers_license') {\n      if (!frontFile || !backFile) {\n        alert('Please upload both front and back of the document');\n        return;\n      }\n    } else {\n      alert('Please select document type');\n      return;\n    }\n\n    setUploading(true);\n    try {\n      const formData = new FormData();\n      formData.append('document', frontFile);\n      if (backFile) {\n        formData.append('document_back', backFile);\n      }\n      formData.append('doc_type', docType);\n      formData.append('country', country);\n\n      const token = localStorage.getItem('token');\n\n      const response = await axios.post('http://localhost:8000/api/kyc/', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      \n      // Show success message with next steps\n      alert('Document uploaded successfully! Your document is being analyzed. You will be notified once verification is complete.');\n      \n      // Reset form\n      setFrontFile(null);\n      setBackFile(null);\n      setDocType('');\n      setCountry('');\n      \n      // Refresh data to show new status\n      onUpdate();\n    } catch (error) {\n      console.error('Upload error:', error);\n      console.error('Error response:', error.response?.data);\n      alert('Upload failed: ' + JSON.stringify(error.response?.data || error.message || 'Unknown error'));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-xl font-bold text-white\">Identity Verification</h2>\n      \n      {kycStatus === 'PENDING' && (\n        <div className=\"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-yellow-400\"></div>\n            <div>\n              <h3 className=\"text-yellow-400 font-medium\">Document Under Review</h3>\n              <p className=\"text-yellow-300 text-sm\">Your document is being analyzed. This typically takes 2-5 minutes for automatic verification, or up to 24 hours if manual review is required.</p>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {kycStatus === 'REJECTED' && (\n        <div className=\"bg-red-900/20 border border-red-500/30 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <i className=\"bi bi-x-circle text-red-400 text-xl\"></i>\n            <div>\n              <h3 className=\"text-red-400 font-medium\">Verification Failed</h3>\n              <p className=\"text-red-300 text-sm\">Please upload a clearer document or contact support.</p>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {(kycStatus === 'NOT_SUBMITTED' || kycStatus === 'REJECTED') && (\n        <form onSubmit={handleFileUpload} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Country</label>\n            <div className=\"flex space-x-3\">\n              <button\n                type=\"button\"\n                onClick={() => setCountry('NG')}\n                className={`flex items-center justify-center p-3 rounded-lg border transition-all ${\n                  country === 'NG' \n                    ? 'border-blue-500 bg-blue-600/20' \n                    : 'border-slate-600 bg-slate-700 hover:border-slate-500'\n                }`}\n              >\n                <img src=\"https://flagcdn.com/w40/ng.png\" alt=\"Nigeria\" className=\"w-8 h-6\" />\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setCountry('KE')}\n                className={`flex items-center justify-center p-3 rounded-lg border transition-all ${\n                  country === 'KE' \n                    ? 'border-blue-500 bg-blue-600/20' \n                    : 'border-slate-600 bg-slate-700 hover:border-slate-500'\n                }`}\n              >\n                <img src=\"https://flagcdn.com/w40/ke.png\" alt=\"Kenya\" className=\"w-8 h-6\" />\n              </button>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Document Type</label>\n            <select\n              value={docType}\n              onChange={(e) => setDocType(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n              required\n            >\n              <option value=\"\">Select Document</option>\n              <option value=\"passport\">Passport</option>\n              <option value=\"national_id\">National ID</option>\n              <option value=\"drivers_license\">Driver's License</option>\n            </select>\n          </div>\n\n          {/* Document Upload */}\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                {docType === 'passport' ? 'Upload Passport' : 'Upload Front Side'}\n              </label>\n              <input\n                type=\"file\"\n                accept=\"image/*,.pdf\"\n                onChange={(e) => setFrontFile(e.target.files[0])}\n                className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n                required\n              />\n            </div>\n            \n            {(docType === 'national_id' || docType === 'drivers_license') && (\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Upload Back Side</label>\n                <input\n                  type=\"file\"\n                  accept=\"image/*,.pdf\"\n                  onChange={(e) => setBackFile(e.target.files[0])}\n                  className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n                  required\n                />\n              </div>\n            )}\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={uploading}\n            className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n          >\n            {uploading ? 'Uploading...' : 'Upload Document'}\n          </button>\n        </form>\n      )}\n\n      <div className=\"bg-slate-900 rounded-lg p-4\">\n        <h3 className=\"text-white font-medium mb-3\">Verification Benefits</h3>\n        <ul className=\"space-y-2 text-sm text-slate-300\">\n          <li className=\"flex items-center space-x-2\">\n            <i className=\"bi bi-check-circle text-green-400\"></i>\n            <span>Increased daily limit to $10,000</span>\n          </li>\n          <li className=\"flex items-center space-x-2\">\n            <i className=\"bi bi-check-circle text-green-400\"></i>\n            <span>Access to all crypto features</span>\n          </li>\n          <li className=\"flex items-center space-x-2\">\n            <i className=\"bi bi-check-circle text-green-400\"></i>\n            <span>Priority customer support</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst PaymentMethodsTab = ({ methods, onUpdate }) => {\n  const [showAddMethod, setShowAddMethod] = useState(false);\n\n  const addPaymentMethod = async (methodData) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('http://localhost:8000/api/payment-methods/', methodData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setShowAddMethod(false);\n      onUpdate(); // Refresh data\n    } catch (error) {\n      console.error('Error adding payment method:', error);\n      alert('Failed to add payment method');\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-bold text-white\">Payment Methods</h2>\n        <button\n          onClick={() => setShowAddMethod(true)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\n        >\n          Add Method\n        </button>\n      </div>\n\n      {methods.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <i className=\"bi bi-credit-card text-4xl text-slate-600 mb-4 block\"></i>\n          <h3 className=\"text-lg font-medium text-white mb-2\">No Payment Methods</h3>\n          <p className=\"text-slate-400\">Add bank accounts or mobile money for easy deposits and withdrawals</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {methods.map((method) => (\n            <div key={method.id} className=\"bg-slate-900 rounded-lg p-4 flex items-center justify-between\">\n              <div className=\"flex items-center space-x-3\">\n                <i className={`bi ${method.type === 'bank_ng' ? 'bi-bank' : 'bi-phone'} text-blue-400 text-xl`}></i>\n                <div>\n                  <h4 className=\"text-white font-medium\">{method.name}</h4>\n                  <p className=\"text-slate-400 text-sm\">{method.details}</p>\n                </div>\n              </div>\n              <button className=\"text-red-400 hover:text-red-300\">\n                <i className=\"bi bi-trash\"></i>\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {showAddMethod && (\n        <AddPaymentMethodModal\n          onClose={() => setShowAddMethod(false)}\n          onAdd={addPaymentMethod}\n        />\n      )}\n    </div>\n  );\n};\n\nconst AddPaymentMethodModal = ({ onClose, onAdd }) => {\n  const [type, setType] = useState('');\n  const [accountNumber, setAccountNumber] = useState('');\n  const [bankName, setBankName] = useState('');\n  const [mpesaNumber, setMpesaNumber] = useState('');\n\n  const handleSubmit = () => {\n    if (!type) {\n      alert('Please select payment method type');\n      return;\n    }\n\n    let methodData = { type };\n\n    if (type === 'bank_ng') {\n      if (!accountNumber || !bankName) {\n        alert('Please fill in all bank details');\n        return;\n      }\n      methodData.name = `${bankName} - ${accountNumber.slice(-4)}`;\n      methodData.details = `${accountNumber} (${bankName})`;\n    } else if (type === 'mpesa') {\n      if (!mpesaNumber) {\n        alert('Please enter M-Pesa number');\n        return;\n      }\n      methodData.name = `M-Pesa - ${mpesaNumber.slice(-4)}`;\n      methodData.details = mpesaNumber;\n    }\n\n    onAdd(methodData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-bold text-white\">Add Payment Method</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <i className=\"bi bi-x-lg text-xl\"></i>\n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Type</label>\n            <select\n              value={type}\n              onChange={(e) => setType(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n            >\n              <option value=\"\">Select Type</option>\n              <option value=\"bank_ng\">Nigerian Bank Account</option>\n              <option value=\"mpesa\">M-Pesa (Kenya)</option>\n            </select>\n          </div>\n\n          {type === 'bank_ng' && (\n            <>\n              <input\n                type=\"text\"\n                placeholder=\"Account Number\"\n                value={accountNumber}\n                onChange={(e) => setAccountNumber(e.target.value)}\n                className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Bank Name\"\n                value={bankName}\n                onChange={(e) => setBankName(e.target.value)}\n                className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n              />\n            </>\n          )}\n\n          {type === 'mpesa' && (\n            <input\n              type=\"text\"\n              placeholder=\"M-Pesa Number (+254...)\"\n              value={mpesaNumber}\n              onChange={(e) => setMpesaNumber(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white\"\n            />\n          )}\n\n          <div className=\"flex space-x-3 pt-4\">\n            <button\n              onClick={handleSubmit}\n              className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n            >\n              Add Method\n            </button>\n            <button\n              onClick={onClose}\n              className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}