{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[accounts,setAccounts]=useState([]);const[transactions,setTransactions]=useState([]);const[rates,setRates]=useState({});const[loading,setLoading]=useState(true);const[creatingWallet,setCreatingWallet]=useState(null);const[showDepositModal,setShowDepositModal]=useState(null);const[showWithdrawModal,setShowWithdrawModal]=useState(null);const[showConvertModal,setShowConvertModal]=useState(null);const[showExchangeModal,setShowExchangeModal]=useState(null);useEffect(()=>{fetchData();fetchRates();},[]);const fetchData=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};const[walletsRes,transactionsRes]=await Promise.all([axios.get('http://localhost:8000/api/wallets/',config),axios.get('http://localhost:8000/api/transactions/',config)]);setAccounts(walletsRes.data);setTransactions(transactionsRes.data.slice(0,8));}catch(error){var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';return;}console.error('Error fetching data:',error);}finally{setLoading(false);}};const fetchRates=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};// Update rates first\nawait axios.post('http://localhost:8000/api/rates/update/',{},config);// Then fetch current rates\nconst ratesRes=await axios.get('http://localhost:8000/api/rates/',config);setRates(ratesRes.data);}catch(error){var _error$response2;if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401){localStorage.removeItem('token');window.location.href='/login';return;}console.error('Error fetching rates:',error);}};const createCryptoWallet=async currency=>{setCreatingWallet(currency);try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};await axios.post('http://localhost:8000/api/wallets/crypto/create/',{currency},config);// Refresh data\nawait fetchData();}catch(error){var _error$response3,_error$response3$data;console.error('Error creating wallet:',error);alert(\"Failed to create \".concat(currency,\" wallet: \").concat(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Unknown error'));}finally{setCreatingWallet(null);}};const getAccountIcon=currency=>{const icons={NGN:'https://flagcdn.com/w40/ng.png',// Nigeria flag\nKES:'https://flagcdn.com/w40/ke.png',// Kenya flag\nBTC:'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg',ETH:'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg',USDT:'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg'};return icons[currency]||'wallet';};const isFlag=currency=>['NGN','KES'].includes(currency);const isCrypto=currency=>['BTC','ETH','USDT'].includes(currency);const getCryptoRate=(crypto,fiat)=>{const key=\"\".concat(crypto,\"_\").concat(fiat);return rates[key]?parseFloat(rates[key]).toLocaleString():'Loading...';};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"})});}const fiatAccounts=accounts.filter(acc=>['NGN','KES'].includes(acc.currency));const cryptoAccounts=accounts.filter(acc=>['BTC','ETH','USDT'].includes(acc.currency));return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-2\",children:\"My Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Manage your fiat and crypto accounts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Live Crypto Rates\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg\",alt:\"BTC\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ng.png\",alt:\"NGN\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"BTC/NGN\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 font-bold\",children:[\"\\u20A6\",getCryptoRate('BTC','NGN')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg\",alt:\"BTC\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ke.png\",alt:\"KES\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"BTC/KES\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400 font-bold\",children:[\"KSh\",getCryptoRate('BTC','KES')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg\",alt:\"ETH\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ng.png\",alt:\"NGN\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"ETH/NGN\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-400 font-bold\",children:[\"\\u20A6\",getCryptoRate('ETH','NGN')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg\",alt:\"ETH\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ke.png\",alt:\"KES\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"ETH/KES\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-400 font-bold\",children:[\"KSh\",getCryptoRate('ETH','KES')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg\",alt:\"USDT\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ng.png\",alt:\"NGN\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"USDT/NGN\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-400 font-bold\",children:[\"\\u20A6\",getCryptoRate('USDT','NGN')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg\",alt:\"USDT\",className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://flagcdn.com/w20/ke.png\",alt:\"KES\",className:\"w-5 h-3\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"USDT/KES\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-green-400 font-bold\",children:[\"KSh\",getCryptoRate('USDT','KES')]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Fiat Accounts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:fiatAccounts.map(account=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 \".concat(account.currency==='NGN'?'bg-green-600':'bg-orange-600',\" rounded-lg flex items-center justify-center overflow-hidden\"),children:isFlag(account.currency)?/*#__PURE__*/_jsx(\"img\",{src:getAccountIcon(account.currency),alt:\"\".concat(account.currency,\" flag\"),className:\"w-8 h-6 object-cover\"}):/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-\".concat(getAccountIcon(account.currency),\" text-white text-lg\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white\",children:[account.currency,\" Account\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:account.currency==='NGN'?'Nigerian Naira':'Kenyan Shilling'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm mb-1\",children:\"Available Balance\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white\",children:[parseFloat(account.balance).toFixed(2),\" \",account.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDepositModal(account),className:\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Deposit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWithdrawModal(account),className:\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Withdraw\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowConvertModal(account),className:\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Convert\"})]})]},account.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Crypto Accounts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[!cryptoAccounts.find(acc=>acc.currency==='BTC')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>createCryptoWallet('BTC'),disabled:creatingWallet==='BTC',className:\"bg-yellow-600 hover:bg-yellow-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\",children:creatingWallet==='BTC'?'Creating...':'+ Create BTC'}),!cryptoAccounts.find(acc=>acc.currency==='ETH')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>createCryptoWallet('ETH'),disabled:creatingWallet==='ETH',className:\"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\",children:creatingWallet==='ETH'?'Creating...':'+ Create ETH'}),!cryptoAccounts.find(acc=>acc.currency==='USDT')&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>createCryptoWallet('USDT'),disabled:creatingWallet==='USDT',className:\"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\",children:creatingWallet==='USDT'?'Creating...':'+ Create USDT'})]})]}),cryptoAccounts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:cryptoAccounts.map(account=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 \".concat(account.currency==='BTC'?'bg-yellow-600':'bg-indigo-600',\" rounded-lg flex items-center justify-center overflow-hidden\"),children:isCrypto(account.currency)?/*#__PURE__*/_jsx(\"img\",{src:getAccountIcon(account.currency),alt:account.currency,className:\"w-8 h-8 object-contain\"}):/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-currency-\".concat(account.currency.toLowerCase(),\" text-white text-lg\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-white\",children:account.currency}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:account.currency==='BTC'?'Bitcoin':account.currency==='ETH'?'Ethereum':account.currency==='USDT'?'Tether USD':account.currency})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm mb-1\",children:\"Balance\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-white\",children:[parseFloat(account.balance).toFixed(6),\" \",account.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDepositModal(account),className:\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Deposit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowExchangeModal(account),className:\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Exchange to Cash\"})]})]},account.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-8 text-center border border-slate-700\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-currency-bitcoin text-4xl text-slate-600 mb-4 block\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-white mb-2\",children:\"No Crypto Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 mb-4\",children:\"Create Bitcoin or Ethereum accounts for crypto trading\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl shadow-lg border border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-slate-700\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-white\",children:\"Recent Activity\"})}),transactions.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-slate-700\",children:transactions.map(transaction=>{var _transaction$wallet;return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 hover:bg-slate-700 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center \".concat(transaction.type==='DEPOSIT'?'bg-green-500/20 text-green-400':transaction.type==='WITHDRAW'?'bg-red-500/20 text-red-400':'bg-blue-500/20 text-blue-400'),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(transaction.type==='DEPOSIT'?'bi-arrow-down-left':transaction.type==='WITHDRAW'?'bi-arrow-up-right':'bi-arrow-repeat',\" text-lg\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-white capitalize\",children:transaction.type.toLowerCase()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-400\",children:new Date(transaction.created_at).toLocaleDateString()})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-white\",children:[transaction.amount,\" \",((_transaction$wallet=transaction.wallet)===null||_transaction$wallet===void 0?void 0:_transaction$wallet.currency)||'N/A']})})]})},transaction.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 text-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clock-history text-6xl text-slate-600 mb-4 block\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-white mb-2\",children:\"No recent activity\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Your transactions will appear here\"})]})]}),showDepositModal&&/*#__PURE__*/_jsx(DepositModal,{account:showDepositModal,onClose:()=>setShowDepositModal(null)}),showWithdrawModal&&!['BTC','ETH','USDT'].includes(showWithdrawModal.currency)&&/*#__PURE__*/_jsx(WithdrawModal,{account:showWithdrawModal,onClose:()=>setShowWithdrawModal(null)}),showConvertModal&&/*#__PURE__*/_jsx(ConvertModal,{account:showConvertModal,onClose:()=>setShowConvertModal(null)}),showExchangeModal&&/*#__PURE__*/_jsx(ExchangeModal,{account:showExchangeModal,onClose:()=>setShowExchangeModal(null)})]})});};const DepositModal=_ref=>{let{account,onClose}=_ref;const[txHash,setTxHash]=useState('');const[amount,setAmount]=useState('');const[loading,setLoading]=useState(false);const handleCryptoDeposit=async e=>{e.preventDefault();if(!txHash||!amount)return;setLoading(true);try{const token=localStorage.getItem('token');await axios.post('http://localhost:8000/api/crypto/deposit/',{currency:account.currency,tx_hash:txHash,amount:parseFloat(amount)},{headers:{Authorization:\"Bearer \".concat(token)}});alert('Deposit submitted for verification!');onClose();window.location.reload();}catch(error){var _error$response4,_error$response4$data;alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Deposit failed');}finally{setLoading(false);}};const getDepositInfo=currency=>{if(currency==='NGN'){return{title:'Deposit Nigerian Naira',method:'Bank Transfer',icon:'bank',details:{'Bank Name':'GTBank','Account Number':'0123456789','Account Name':'BPAY NIGERIA LTD','Reference':\"DEP-\".concat(Date.now())},instructions:['Transfer money to the account above','Use the reference number for tracking','Funds will reflect within 5-10 minutes','Contact support if delayed beyond 30 minutes']};}else if(currency==='KES'){return{title:'Deposit Kenyan Shillings',method:'M-Pesa Payment',icon:'phone',details:{'Paybill Number':'522522','Account Number':\"KE\".concat(Date.now()),'Business Name':'BPAY KENYA'},instructions:['Go to M-Pesa menu on your phone','Select Lipa na M-Pesa > Pay Bill','Enter the paybill number and account number','Funds will reflect within 2-5 minutes']};}else{return{title:\"Deposit \".concat(currency),method:'Crypto Transfer',icon:'currency-bitcoin',address:account.deposit_address||'Address not generated',instructions:['Send crypto to the address below','Submit transaction hash after sending','Deposits require network confirmations','Contact support if funds don\\'t appear']};}};const depositInfo=getDepositInfo(account.currency);const isCrypto=['BTC','ETH','USDT'].includes(account.currency);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-700 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 \".concat(account.currency==='NGN'?'bg-green-600':account.currency==='KES'?'bg-orange-600':'bg-yellow-600',\" rounded-lg flex items-center justify-center\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-\".concat(depositInfo.icon,\" text-white\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:depositInfo.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:depositInfo.method})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-400 hover:text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg text-xl\"})})]}),isCrypto?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-white font-medium mb-3\",children:[\"Your \",account.currency,\" Deposit Address\"]}),account.deposit_address?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-800 p-3 rounded border break-all mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-mono text-sm\",children:account.deposit_address})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigator.clipboard.writeText(account.deposit_address);alert('Address copied to clipboard!');},className:\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clipboard\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy Address\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 mb-2\",children:\"Generating deposit address...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCryptoDeposit,className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Transaction Hash\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:txHash,onChange:e=>setTxHash(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter transaction hash\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"any\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Amount in \".concat(account.currency),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:loading?'Submitting...':'Submit Deposit'})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium mb-3\",children:\"Payment Details\"}),Object.entries(depositInfo.details).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-2 border-b border-slate-700 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-slate-400 text-sm\",children:[key,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-mono text-sm\",children:value})]},key);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 mb-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigator.clipboard.writeText(Object.values(depositInfo.details).join(' '));alert('Payment details copied to clipboard!');},className:\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clipboard\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Copy Details\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-medium mb-3\",children:\"Instructions\"}),/*#__PURE__*/_jsx(\"ol\",{className:\"space-y-2\",children:isCrypto?['Send crypto to the BPAY business address above','Submit transaction hash and amount below','Your balance will be credited automatically','You can then exchange crypto to NGN/KES for withdrawal'].map((instruction,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm text-slate-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{children:instruction})]},index)):depositInfo.instructions.map((instruction,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start space-x-2 text-sm text-slate-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{children:instruction})]},index))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\",children:\"Close\"})]})});};const WithdrawModal=_ref3=>{let{account,onClose}=_ref3;const[amount,setAmount]=useState('');const[selectedMethod,setSelectedMethod]=useState('');const[paymentMethods,setPaymentMethods]=useState([]);const[loading,setLoading]=useState(false);const[loadingMethods,setLoadingMethods]=useState(true);useEffect(()=>{fetchPaymentMethods();},[]);const fetchPaymentMethods=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:8000/api/payment-methods/',{headers:{Authorization:\"Bearer \".concat(token)}});// Filter methods based on account currency\nconst relevantMethods=response.data.filter(method=>{if(account.currency==='NGN'){return method.type==='bank_ng';}else if(account.currency==='KES'){return method.type==='mpesa';}return false;});setPaymentMethods(relevantMethods);}catch(error){console.error('Error fetching payment methods:',error);}finally{setLoadingMethods(false);}};const handleWithdraw=async e=>{e.preventDefault();if(!amount||!selectedMethod)return;setLoading(true);try{const token=localStorage.getItem('token');// Fiat withdrawal using selected payment method\nalert(\"Withdrawal of \".concat(amount,\" \").concat(account.currency,\" will be processed to your selected payment method\"));onClose();window.location.reload();}catch(error){var _error$response5,_error$response5$data;alert(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Withdrawal failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-white\",children:[\"Withdraw \",account.currency]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-400 hover:text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg text-xl\"})})]}),loadingMethods?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400\",children:\"Loading payment methods...\"})]}):paymentMethods.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-credit-card text-4xl text-slate-600 mb-4 block\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-white mb-2\",children:\"No Payment Methods\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400 mb-4\",children:[\"Add a \",account.currency==='NGN'?'Nigerian bank account':'M-Pesa number',\" to withdraw funds\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{onClose();window.location.href='/profile';},className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",children:\"Add Payment Method\"})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleWithdraw,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500\",placeholder:\"Enter \".concat(account.currency,\" amount\"),max:account.balance,required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-400 mt-1\",children:[\"Available: \",account.balance,\" \",account.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:account.currency==='NGN'?'Bank Account':'M-Pesa Number'}),/*#__PURE__*/_jsxs(\"select\",{value:selectedMethod,onChange:e=>setSelectedMethod(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select payment method\"}),paymentMethods.map(method=>/*#__PURE__*/_jsx(\"option\",{value:method.id,children:method.name},method.id))]})]}),selectedMethod&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-white font-medium mb-2\",children:\"Selected Method\"}),paymentMethods.find(m=>m.id.toString()===selectedMethod)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(account.currency==='NGN'?'bi-bank':'bi-phone',\" text-blue-400\")}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-sm\",children:paymentMethods.find(m=>m.id.toString()===selectedMethod).name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-xs\",children:paymentMethods.find(m=>m.id.toString()===selectedMethod).details})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400 text-sm\",children:[\"\\uD83D\\uDCA1 Withdrawal will be processed through \",account.currency==='NGN'?'Flutterwave':'SasaPay']})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:loading?'Processing...':'Withdraw'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\",children:\"Cancel\"})]})]})]})});};const ConvertModal=_ref4=>{let{account,onClose}=_ref4;const[amount,setAmount]=useState('');const[toCurrency,setToCurrency]=useState('');const[loading,setLoading]=useState(false);const handleConvert=async e=>{e.preventDefault();if(!amount||!toCurrency)return;setLoading(true);try{const token=localStorage.getItem('token');const response=await axios.post('http://localhost:8000/api/wallets/convert/',{from_currency:account.currency,to_currency:toCurrency,amount:parseFloat(amount)},{headers:{Authorization:\"Bearer \".concat(token)}});alert(\"Conversion successful! You received \".concat(response.data.converted_amount.toFixed(6),\" \").concat(toCurrency));onClose();window.location.reload();}catch(error){var _error$response6,_error$response6$data;alert(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'Conversion failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-white\",children:[\"Convert \",account.currency]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-400 hover:text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg text-xl\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleConvert,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Amount to Convert\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500\",placeholder:\"Enter \".concat(account.currency,\" amount\"),max:account.balance}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-400 mt-1\",children:[\"Available: \",account.balance,\" \",account.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Convert To\"}),/*#__PURE__*/_jsxs(\"select\",{value:toCurrency,onChange:e=>setToCurrency(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select currency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BTC\",children:\"Bitcoin (BTC)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ETH\",children:\"Ethereum (ETH)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USDT\",children:\"Tether (USDT)\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"\\uD83D\\uDD04 Real-time conversion rates applied\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!amount||!toCurrency,className:\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:loading?'Converting...':'Convert'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\",children:\"Cancel\"})]})]})]})});};const ExchangeModal=_ref5=>{let{account,onClose}=_ref5;const[amount,setAmount]=useState('');const[toFiat,setToFiat]=useState('');const[loading,setLoading]=useState(false);const handleExchange=async e=>{e.preventDefault();if(!amount||!toFiat)return;setLoading(true);try{const token=localStorage.getItem('token');const response=await axios.post('http://localhost:8000/api/wallets/convert/',{from_currency:account.currency,to_currency:toFiat,amount:parseFloat(amount)},{headers:{Authorization:\"Bearer \".concat(token)}});alert(\"Exchange successful! You received \".concat(response.data.converted_amount.toFixed(2),\" \").concat(toFiat));onClose();window.location.reload();}catch(error){var _error$response7,_error$response7$data;alert(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||'Exchange failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-white\",children:[\"Exchange \",account.currency]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-slate-400 hover:text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-lg text-xl\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleExchange,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Amount to Exchange\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"any\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",placeholder:\"Enter \".concat(account.currency,\" amount\"),max:account.balance,required:true}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-400 mt-1\",children:[\"Available: \",account.balance,\" \",account.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-slate-300 mb-2\",children:\"Exchange To\"}),/*#__PURE__*/_jsxs(\"select\",{value:toFiat,onChange:e=>setToFiat(e.target.value),className:\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select currency\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NGN\",children:\"Nigerian Naira (NGN)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"KES\",children:\"Kenyan Shilling (KES)\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-900 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"\\u26A1 Real-time exchange rates applied\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\",children:loading?'Exchanging...':'Exchange'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\",children:\"Cancel\"})]})]})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","accounts","setAccounts","transactions","setTransactions","rates","setRates","loading","setLoading","creatingWallet","setCreatingWallet","showDepositModal","setShowDepositModal","showWithdrawModal","setShowWithdrawModal","showConvertModal","setShowConvertModal","showExchangeModal","setShowExchangeModal","fetchData","fetchRates","token","localStorage","getItem","config","headers","Authorization","concat","walletsRes","transactionsRes","Promise","all","get","data","slice","error","_error$response","response","status","removeItem","window","location","href","console","post","ratesRes","_error$response2","createCryptoWallet","currency","_error$response3","_error$response3$data","alert","getAccountIcon","icons","NGN","KES","BTC","ETH","USDT","isFlag","includes","isCrypto","getCryptoRate","crypto","fiat","key","parseFloat","toLocaleString","className","children","fiatAccounts","filter","acc","cryptoAccounts","src","alt","map","account","balance","toFixed","onClick","id","find","disabled","length","toLowerCase","transaction","_transaction$wallet","type","Date","created_at","toLocaleDateString","amount","wallet","DepositModal","onClose","WithdrawModal","ConvertModal","ExchangeModal","_ref","txHash","setTxHash","setAmount","handleCryptoDeposit","e","preventDefault","tx_hash","reload","_error$response4","_error$response4$data","getDepositInfo","title","method","icon","details","now","instructions","address","deposit_address","depositInfo","navigator","clipboard","writeText","onSubmit","value","onChange","target","placeholder","required","step","Object","entries","_ref2","values","join","instruction","index","_ref3","selectedMethod","setSelectedMethod","paymentMethods","setPaymentMethods","loadingMethods","setLoadingMethods","fetchPaymentMethods","relevantMethods","handleWithdraw","_error$response5","_error$response5$data","max","name","m","toString","_ref4","toCurrency","setToCurrency","handleConvert","from_currency","to_currency","converted_amount","_error$response6","_error$response6$data","_ref5","toFiat","setToFiat","handleExchange","_error$response7","_error$response7$data"],"sources":["C:/Users/USER/fintech/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Dashboard = () => {\n  const [accounts, setAccounts] = useState([]);\n  const [transactions, setTransactions] = useState([]);\n  const [rates, setRates] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [creatingWallet, setCreatingWallet] = useState(null);\n  const [showDepositModal, setShowDepositModal] = useState(null);\n  const [showWithdrawModal, setShowWithdrawModal] = useState(null);\n  const [showConvertModal, setShowConvertModal] = useState(null);\n  const [showExchangeModal, setShowExchangeModal] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n    fetchRates();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: { Authorization: `Bearer ${token}` }\n      };\n      \n      const [walletsRes, transactionsRes] = await Promise.all([\n        axios.get('http://localhost:8000/api/wallets/', config),\n        axios.get('http://localhost:8000/api/transactions/', config)\n      ]);\n      \n      setAccounts(walletsRes.data);\n      setTransactions(transactionsRes.data.slice(0, 8));\n    } catch (error) {\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n        return;\n      }\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRates = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: { Authorization: `Bearer ${token}` }\n      };\n      \n      // Update rates first\n      await axios.post('http://localhost:8000/api/rates/update/', {}, config);\n      \n      // Then fetch current rates\n      const ratesRes = await axios.get('http://localhost:8000/api/rates/', config);\n      setRates(ratesRes.data);\n    } catch (error) {\n      if (error.response?.status === 401) {\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n        return;\n      }\n      console.error('Error fetching rates:', error);\n    }\n  };\n\n  const createCryptoWallet = async (currency) => {\n    setCreatingWallet(currency);\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: { Authorization: `Bearer ${token}` }\n      };\n      \n      await axios.post('http://localhost:8000/api/wallets/crypto/create/', \n        { currency }, \n        config\n      );\n      \n      // Refresh data\n      await fetchData();\n    } catch (error) {\n      console.error('Error creating wallet:', error);\n      alert(`Failed to create ${currency} wallet: ${error.response?.data?.error || 'Unknown error'}`);\n    } finally {\n      setCreatingWallet(null);\n    }\n  };\n\n  const getAccountIcon = (currency) => {\n    const icons = {\n      NGN: 'https://flagcdn.com/w40/ng.png', // Nigeria flag\n      KES: 'https://flagcdn.com/w40/ke.png', // Kenya flag\n      BTC: 'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg',\n      ETH: 'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg',\n      USDT: 'https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg'\n    };\n    return icons[currency] || 'wallet';\n  };\n\n  const isFlag = (currency) => ['NGN', 'KES'].includes(currency);\n  const isCrypto = (currency) => ['BTC', 'ETH', 'USDT'].includes(currency);\n\n  const getCryptoRate = (crypto, fiat) => {\n    const key = `${crypto}_${fiat}`;\n    return rates[key] ? parseFloat(rates[key]).toLocaleString() : 'Loading...';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  const fiatAccounts = accounts.filter(acc => ['NGN', 'KES'].includes(acc.currency));\n  const cryptoAccounts = accounts.filter(acc => ['BTC', 'ETH', 'USDT'].includes(acc.currency));\n\n  return (\n    <div className=\"min-h-screen bg-slate-900\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        \n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">My Accounts</h1>\n          <p className=\"text-slate-400\">Manage your fiat and crypto accounts</p>\n        </div>\n\n        {/* Crypto Rates Display */}\n        <div className=\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700 mb-8\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">Live Crypto Rates</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg\" alt=\"BTC\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ng.png\" alt=\"NGN\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">BTC/NGN</p>\n              <p className=\"text-yellow-400 font-bold\">₦{getCryptoRate('BTC', 'NGN')}</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/btc.svg\" alt=\"BTC\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ke.png\" alt=\"KES\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">BTC/KES</p>\n              <p className=\"text-yellow-400 font-bold\">KSh{getCryptoRate('BTC', 'KES')}</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg\" alt=\"ETH\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ng.png\" alt=\"NGN\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">ETH/NGN</p>\n              <p className=\"text-blue-400 font-bold\">₦{getCryptoRate('ETH', 'NGN')}</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/eth.svg\" alt=\"ETH\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ke.png\" alt=\"KES\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">ETH/KES</p>\n              <p className=\"text-blue-400 font-bold\">KSh{getCryptoRate('ETH', 'KES')}</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg\" alt=\"USDT\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ng.png\" alt=\"NGN\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">USDT/NGN</p>\n              <p className=\"text-green-400 font-bold\">₦{getCryptoRate('USDT', 'NGN')}</p>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"flex items-center justify-center space-x-2 mb-1\">\n                <img src=\"https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@1a63530be6e374711a8554f31b17e4cb92c25fa5/svg/color/usdt.svg\" alt=\"USDT\" className=\"w-4 h-4\" />\n                <img src=\"https://flagcdn.com/w20/ke.png\" alt=\"KES\" className=\"w-5 h-3\" />\n              </div>\n              <p className=\"text-slate-400 text-sm\">USDT/KES</p>\n              <p className=\"text-green-400 font-bold\">KSh{getCryptoRate('USDT', 'KES')}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Fiat Accounts (NGN & KES) */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">Fiat Accounts</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {fiatAccounts.map(account => (\n              <div key={account.id} className=\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`w-12 h-12 ${account.currency === 'NGN' ? 'bg-green-600' : 'bg-orange-600'} rounded-lg flex items-center justify-center overflow-hidden`}>\n                      {isFlag(account.currency) ? (\n                        <img src={getAccountIcon(account.currency)} alt={`${account.currency} flag`} className=\"w-8 h-6 object-cover\" />\n                      ) : (\n                        <i className={`bi bi-${getAccountIcon(account.currency)} text-white text-lg`}></i>\n                      )}\n                    </div>\n                    <div>\n                      <h3 className=\"text-lg font-bold text-white\">{account.currency} Account</h3>\n                      <p className=\"text-slate-400 text-sm\">{account.currency === 'NGN' ? 'Nigerian Naira' : 'Kenyan Shilling'}</p>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <p className=\"text-slate-400 text-sm mb-1\">Available Balance</p>\n                  <h2 className=\"text-2xl font-bold text-white\">\n                    {parseFloat(account.balance).toFixed(2)} {account.currency}\n                  </h2>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-2\">\n                  <button \n                    onClick={() => setShowDepositModal(account)}\n                    className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\"\n                  >\n                    Deposit\n                  </button>\n                  <button \n                    onClick={() => setShowWithdrawModal(account)}\n                    className=\"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\"\n                  >\n                    Withdraw\n                  </button>\n                  <button \n                    onClick={() => setShowConvertModal(account)}\n                    className=\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\"\n                  >\n                    Convert\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Crypto Accounts */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-bold text-white\">Crypto Accounts</h2>\n            <div className=\"flex flex-wrap gap-2\">\n              {!cryptoAccounts.find(acc => acc.currency === 'BTC') && (\n                <button \n                  onClick={() => createCryptoWallet('BTC')}\n                  disabled={creatingWallet === 'BTC'}\n                  className=\"bg-yellow-600 hover:bg-yellow-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\"\n                >\n                  {creatingWallet === 'BTC' ? 'Creating...' : '+ Create BTC'}\n                </button>\n              )}\n              {!cryptoAccounts.find(acc => acc.currency === 'ETH') && (\n                <button \n                  onClick={() => createCryptoWallet('ETH')}\n                  disabled={creatingWallet === 'ETH'}\n                  className=\"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\"\n                >\n                  {creatingWallet === 'ETH' ? 'Creating...' : '+ Create ETH'}\n                </button>\n              )}\n              {!cryptoAccounts.find(acc => acc.currency === 'USDT') && (\n                <button \n                  onClick={() => createCryptoWallet('USDT')}\n                  disabled={creatingWallet === 'USDT'}\n                  className=\"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all\"\n                >\n                  {creatingWallet === 'USDT' ? 'Creating...' : '+ Create USDT'}\n                </button>\n              )}\n            </div>\n          </div>\n          \n          {cryptoAccounts.length > 0 ? (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {cryptoAccounts.map(account => (\n                <div key={account.id} className=\"bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`w-12 h-12 ${account.currency === 'BTC' ? 'bg-yellow-600' : 'bg-indigo-600'} rounded-lg flex items-center justify-center overflow-hidden`}>\n                        {isCrypto(account.currency) ? (\n                          <img src={getAccountIcon(account.currency)} alt={account.currency} className=\"w-8 h-8 object-contain\" />\n                        ) : (\n                          <i className={`bi bi-currency-${account.currency.toLowerCase()} text-white text-lg`}></i>\n                        )}\n                      </div>\n                      <div>\n                        <h3 className=\"text-lg font-bold text-white\">{account.currency}</h3>\n                        <p className=\"text-slate-400 text-sm\">\n                          {account.currency === 'BTC' ? 'Bitcoin' : \n                           account.currency === 'ETH' ? 'Ethereum' : \n                           account.currency === 'USDT' ? 'Tether USD' : account.currency}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"mb-4\">\n                    <p className=\"text-slate-400 text-sm mb-1\">Balance</p>\n                    <h2 className=\"text-xl font-bold text-white\">\n                      {parseFloat(account.balance).toFixed(6)} {account.currency}\n                    </h2>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <button \n                      onClick={() => setShowDepositModal(account)}\n                      className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\"\n                    >\n                      Deposit\n                    </button>\n                    <button \n                      onClick={() => setShowExchangeModal(account)}\n                      className=\"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors\"\n                    >\n                      Exchange to Cash\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"bg-slate-800 rounded-xl p-8 text-center border border-slate-700\">\n              <i className=\"bi bi-currency-bitcoin text-4xl text-slate-600 mb-4 block\"></i>\n              <h3 className=\"text-lg font-medium text-white mb-2\">No Crypto Accounts</h3>\n              <p className=\"text-slate-400 mb-4\">Create Bitcoin or Ethereum accounts for crypto trading</p>\n            </div>\n          )}\n        </div>\n\n        {/* Recent Activity */}\n        <div className=\"bg-slate-800 rounded-xl shadow-lg border border-slate-700\">\n          <div className=\"p-6 border-b border-slate-700\">\n            <h3 className=\"text-xl font-bold text-white\">Recent Activity</h3>\n          </div>\n          \n          {transactions.length > 0 ? (\n            <div className=\"divide-y divide-slate-700\">\n              {transactions.map(transaction => (\n                <div key={transaction.id} className=\"p-6 hover:bg-slate-700 transition-colors\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                        transaction.type === 'DEPOSIT' ? 'bg-green-500/20 text-green-400' :\n                        transaction.type === 'WITHDRAW' ? 'bg-red-500/20 text-red-400' :\n                        'bg-blue-500/20 text-blue-400'\n                      }`}>\n                        <i className={`bi ${\n                          transaction.type === 'DEPOSIT' ? 'bi-arrow-down-left' :\n                          transaction.type === 'WITHDRAW' ? 'bi-arrow-up-right' :\n                          'bi-arrow-repeat'\n                        } text-lg`}></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white capitalize\">{transaction.type.toLowerCase()}</h4>\n                        <p className=\"text-sm text-slate-400\">\n                          {new Date(transaction.created_at).toLocaleDateString()}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-bold text-white\">\n                        {transaction.amount} {transaction.wallet?.currency || 'N/A'}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"p-12 text-center\">\n              <i className=\"bi bi-clock-history text-6xl text-slate-600 mb-4 block\"></i>\n              <h4 className=\"text-lg font-medium text-white mb-2\">No recent activity</h4>\n              <p className=\"text-slate-400\">Your transactions will appear here</p>\n            </div>\n          )}\n        </div>\n\n        {/* Modals */}\n        {showDepositModal && (\n          <DepositModal\n            account={showDepositModal}\n            onClose={() => setShowDepositModal(null)}\n          />\n        )}\n        {showWithdrawModal && !['BTC', 'ETH', 'USDT'].includes(showWithdrawModal.currency) && (\n          <WithdrawModal\n            account={showWithdrawModal}\n            onClose={() => setShowWithdrawModal(null)}\n          />\n        )}\n        {showConvertModal && (\n          <ConvertModal\n            account={showConvertModal}\n            onClose={() => setShowConvertModal(null)}\n          />\n        )}\n        {showExchangeModal && (\n          <ExchangeModal\n            account={showExchangeModal}\n            onClose={() => setShowExchangeModal(null)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst DepositModal = ({ account, onClose }) => {\n  const [txHash, setTxHash] = useState('');\n  const [amount, setAmount] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleCryptoDeposit = async (e) => {\n    e.preventDefault();\n    if (!txHash || !amount) return;\n    \n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('http://localhost:8000/api/crypto/deposit/', {\n        currency: account.currency,\n        tx_hash: txHash,\n        amount: parseFloat(amount)\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      alert('Deposit submitted for verification!');\n      onClose();\n      window.location.reload();\n    } catch (error) {\n      alert(error.response?.data?.error || 'Deposit failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDepositInfo = (currency) => {\n    if (currency === 'NGN') {\n      return {\n        title: 'Deposit Nigerian Naira',\n        method: 'Bank Transfer',\n        icon: 'bank',\n        details: {\n          'Bank Name': 'GTBank',\n          'Account Number': '0123456789',\n          'Account Name': 'BPAY NIGERIA LTD',\n          'Reference': `DEP-${Date.now()}`,\n        },\n        instructions: [\n          'Transfer money to the account above',\n          'Use the reference number for tracking',\n          'Funds will reflect within 5-10 minutes',\n          'Contact support if delayed beyond 30 minutes'\n        ]\n      };\n    } else if (currency === 'KES') {\n      return {\n        title: 'Deposit Kenyan Shillings',\n        method: 'M-Pesa Payment',\n        icon: 'phone',\n        details: {\n          'Paybill Number': '522522',\n          'Account Number': `KE${Date.now()}`,\n          'Business Name': 'BPAY KENYA',\n        },\n        instructions: [\n          'Go to M-Pesa menu on your phone',\n          'Select Lipa na M-Pesa > Pay Bill',\n          'Enter the paybill number and account number',\n          'Funds will reflect within 2-5 minutes'\n        ]\n      };\n    } else {\n      return {\n        title: `Deposit ${currency}`,\n        method: 'Crypto Transfer',\n        icon: 'currency-bitcoin',\n        address: account.deposit_address || 'Address not generated',\n        instructions: [\n          'Send crypto to the address below',\n          'Submit transaction hash after sending',\n          'Deposits require network confirmations',\n          'Contact support if funds don\\'t appear'\n        ]\n      };\n    }\n  };\n\n  const depositInfo = getDepositInfo(account.currency);\n  const isCrypto = ['BTC', 'ETH', 'USDT'].includes(account.currency);\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-700 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center space-x-3\">\n            <div className={`w-10 h-10 ${account.currency === 'NGN' ? 'bg-green-600' : account.currency === 'KES' ? 'bg-orange-600' : 'bg-yellow-600'} rounded-lg flex items-center justify-center`}>\n              <i className={`bi bi-${depositInfo.icon} text-white`}></i>\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">{depositInfo.title}</h2>\n              <p className=\"text-slate-400 text-sm\">{depositInfo.method}</p>\n            </div>\n          </div>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <i className=\"bi bi-x-lg text-xl\"></i>\n          </button>\n        </div>\n\n        {isCrypto ? (\n          <>\n            {/* Crypto Deposit Address */}\n            <div className=\"bg-slate-900 rounded-lg p-4 mb-6\">\n              <h3 className=\"text-white font-medium mb-3\">Your {account.currency} Deposit Address</h3>\n              {account.deposit_address ? (\n                <>\n                  <div className=\"bg-slate-800 p-3 rounded border break-all mb-3\">\n                    <span className=\"text-white font-mono text-sm\">{account.deposit_address}</span>\n                  </div>\n                  <button \n                    onClick={() => {\n                      navigator.clipboard.writeText(account.deposit_address);\n                      alert('Address copied to clipboard!');\n                    }}\n                    className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2\"\n                  >\n                    <i className=\"bi bi-clipboard\"></i>\n                    <span>Copy Address</span>\n                  </button>\n                </>\n              ) : (\n                <div className=\"text-center py-4\">\n                  <p className=\"text-slate-400 mb-2\">Generating deposit address...</p>\n                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"></div>\n                </div>\n              )}\n            </div>\n\n            {/* Submit Transaction Form */}\n            <form onSubmit={handleCryptoDeposit} className=\"space-y-4 mb-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Transaction Hash</label>\n                <input\n                  type=\"text\"\n                  value={txHash}\n                  onChange={(e) => setTxHash(e.target.value)}\n                  className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter transaction hash\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Amount</label>\n                <input\n                  type=\"number\"\n                  step=\"any\"\n                  value={amount}\n                  onChange={(e) => setAmount(e.target.value)}\n                  className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder={`Amount in ${account.currency}`}\n                  required\n                />\n              </div>\n              <button \n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n              >\n                {loading ? 'Submitting...' : 'Submit Deposit'}\n              </button>\n            </form>\n          </>\n        ) : (\n          <>\n            {/* Fiat Payment Details */}\n            <div className=\"bg-slate-900 rounded-lg p-4 mb-6\">\n              <h3 className=\"text-white font-medium mb-3\">Payment Details</h3>\n              {Object.entries(depositInfo.details).map(([key, value]) => (\n                <div key={key} className=\"flex justify-between items-center py-2 border-b border-slate-700 last:border-b-0\">\n                  <span className=\"text-slate-400 text-sm\">{key}:</span>\n                  <span className=\"text-white font-mono text-sm\">{value}</span>\n                </div>\n              ))}\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex space-x-3 mb-6\">\n              <button \n                onClick={() => {\n                  navigator.clipboard.writeText(Object.values(depositInfo.details).join(' '));\n                  alert('Payment details copied to clipboard!');\n                }}\n                className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\"\n              >\n                <i className=\"bi bi-clipboard\"></i>\n                <span>Copy Details</span>\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* Instructions */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-white font-medium mb-3\">Instructions</h3>\n          <ol className=\"space-y-2\">\n            {isCrypto ? [\n              'Send crypto to the BPAY business address above',\n              'Submit transaction hash and amount below',\n              'Your balance will be credited automatically',\n              'You can then exchange crypto to NGN/KES for withdrawal'\n            ].map((instruction, index) => (\n              <li key={index} className=\"flex items-start space-x-2 text-sm text-slate-300\">\n                <span className=\"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5\">\n                  {index + 1}\n                </span>\n                <span>{instruction}</span>\n              </li>\n            )) : depositInfo.instructions.map((instruction, index) => (\n              <li key={index} className=\"flex items-start space-x-2 text-sm text-slate-300\">\n                <span className=\"bg-blue-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mt-0.5\">\n                  {index + 1}\n                </span>\n                <span>{instruction}</span>\n              </li>\n            ))}\n          </ol>\n        </div>\n\n        <button \n          onClick={onClose}\n          className=\"w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst WithdrawModal = ({ account, onClose }) => {\n  const [amount, setAmount] = useState('');\n  const [selectedMethod, setSelectedMethod] = useState('');\n  const [paymentMethods, setPaymentMethods] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingMethods, setLoadingMethods] = useState(true);\n\n  useEffect(() => {\n    fetchPaymentMethods();\n  }, []);\n\n  const fetchPaymentMethods = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:8000/api/payment-methods/', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      // Filter methods based on account currency\n      const relevantMethods = response.data.filter(method => {\n        if (account.currency === 'NGN') {\n          return method.type === 'bank_ng';\n        } else if (account.currency === 'KES') {\n          return method.type === 'mpesa';\n        }\n        return false;\n      });\n      \n      setPaymentMethods(relevantMethods);\n    } catch (error) {\n      console.error('Error fetching payment methods:', error);\n    } finally {\n      setLoadingMethods(false);\n    }\n  };\n\n  const handleWithdraw = async (e) => {\n    e.preventDefault();\n    if (!amount || !selectedMethod) return;\n    \n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      \n      // Fiat withdrawal using selected payment method\n      alert(`Withdrawal of ${amount} ${account.currency} will be processed to your selected payment method`);\n      \n      onClose();\n      window.location.reload();\n    } catch (error) {\n      alert(error.response?.data?.error || 'Withdrawal failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-bold text-white\">Withdraw {account.currency}</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <i className=\"bi bi-x-lg text-xl\"></i>\n          </button>\n        </div>\n\n        {loadingMethods ? (\n          <div className=\"text-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n            <p className=\"text-slate-400\">Loading payment methods...</p>\n          </div>\n        ) : paymentMethods.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <i className=\"bi bi-credit-card text-4xl text-slate-600 mb-4 block\"></i>\n            <h3 className=\"text-lg font-medium text-white mb-2\">No Payment Methods</h3>\n            <p className=\"text-slate-400 mb-4\">\n              Add a {account.currency === 'NGN' ? 'Nigerian bank account' : 'M-Pesa number'} to withdraw funds\n            </p>\n            <button \n              onClick={() => {\n                onClose();\n                window.location.href = '/profile';\n              }}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\n            >\n              Add Payment Method\n            </button>\n          </div>\n        ) : (\n          <form className=\"space-y-4\" onSubmit={handleWithdraw}>\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">Amount</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n                className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500\"\n                placeholder={`Enter ${account.currency} amount`}\n                max={account.balance}\n                required\n              />\n              <p className=\"text-xs text-slate-400 mt-1\">Available: {account.balance} {account.currency}</p>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                {account.currency === 'NGN' ? 'Bank Account' : 'M-Pesa Number'}\n              </label>\n              <select\n                value={selectedMethod}\n                onChange={(e) => setSelectedMethod(e.target.value)}\n                className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500\"\n                required\n              >\n                <option value=\"\">Select payment method</option>\n                {paymentMethods.map(method => (\n                  <option key={method.id} value={method.id}>\n                    {method.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {selectedMethod && (\n              <div className=\"bg-slate-900 rounded-lg p-4\">\n                <h4 className=\"text-white font-medium mb-2\">Selected Method</h4>\n                {paymentMethods.find(m => m.id.toString() === selectedMethod) && (\n                  <div className=\"flex items-center space-x-3\">\n                    <i className={`bi ${account.currency === 'NGN' ? 'bi-bank' : 'bi-phone'} text-blue-400`}></i>\n                    <div>\n                      <p className=\"text-white text-sm\">\n                        {paymentMethods.find(m => m.id.toString() === selectedMethod).name}\n                      </p>\n                      <p className=\"text-slate-400 text-xs\">\n                        {paymentMethods.find(m => m.id.toString() === selectedMethod).details}\n                      </p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div className=\"bg-slate-900 rounded-lg p-4\">\n              <p className=\"text-slate-400 text-sm\">\n                💡 Withdrawal will be processed through {account.currency === 'NGN' ? 'Flutterwave' : 'SasaPay'}\n              </p>\n            </div>\n\n            <div className=\"flex space-x-3 pt-4\">\n              <button \n                type=\"submit\" \n                disabled={loading}\n                className=\"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n              >\n                {loading ? 'Processing...' : 'Withdraw'}\n              </button>\n              <button type=\"button\" onClick={onClose} className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\">\n                Cancel\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst ConvertModal = ({ account, onClose }) => {\n  const [amount, setAmount] = useState('');\n  const [toCurrency, setToCurrency] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleConvert = async (e) => {\n    e.preventDefault();\n    if (!amount || !toCurrency) return;\n    \n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:8000/api/wallets/convert/', {\n        from_currency: account.currency,\n        to_currency: toCurrency,\n        amount: parseFloat(amount)\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      alert(`Conversion successful! You received ${response.data.converted_amount.toFixed(6)} ${toCurrency}`);\n      onClose();\n      window.location.reload();\n    } catch (error) {\n      alert(error.response?.data?.error || 'Conversion failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-bold text-white\">Convert {account.currency}</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <i className=\"bi bi-x-lg text-xl\"></i>\n          </button>\n        </div>\n\n        <form className=\"space-y-4\" onSubmit={handleConvert}>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Amount to Convert</label>\n            <input\n              type=\"number\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              placeholder={`Enter ${account.currency} amount`}\n              max={account.balance}\n            />\n            <p className=\"text-xs text-slate-400 mt-1\">Available: {account.balance} {account.currency}</p>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Convert To</label>\n            <select\n              value={toCurrency}\n              onChange={(e) => setToCurrency(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500\"\n            >\n              <option value=\"\">Select currency</option>\n              <option value=\"BTC\">Bitcoin (BTC)</option>\n              <option value=\"ETH\">Ethereum (ETH)</option>\n              <option value=\"USDT\">Tether (USDT)</option>\n            </select>\n          </div>\n\n          <div className=\"bg-slate-900 rounded-lg p-4\">\n            <p className=\"text-slate-400 text-sm\">\n              🔄 Real-time conversion rates applied\n            </p>\n          </div>\n\n          <div className=\"flex space-x-3 pt-4\">\n            <button \n              type=\"submit\" \n              disabled={loading || !amount || !toCurrency}\n              className=\"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n            >\n              {loading ? 'Converting...' : 'Convert'}\n            </button>\n            <button type=\"button\" onClick={onClose} className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\">\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst ExchangeModal = ({ account, onClose }) => {\n  const [amount, setAmount] = useState('');\n  const [toFiat, setToFiat] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleExchange = async (e) => {\n    e.preventDefault();\n    if (!amount || !toFiat) return;\n    \n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:8000/api/wallets/convert/', {\n        from_currency: account.currency,\n        to_currency: toFiat,\n        amount: parseFloat(amount)\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      alert(`Exchange successful! You received ${response.data.converted_amount.toFixed(2)} ${toFiat}`);\n      onClose();\n      window.location.reload();\n    } catch (error) {\n      alert(error.response?.data?.error || 'Exchange failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-bold text-white\">Exchange {account.currency}</h2>\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n            <i className=\"bi bi-x-lg text-xl\"></i>\n          </button>\n        </div>\n\n        <form className=\"space-y-4\" onSubmit={handleExchange}>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Amount to Exchange</label>\n            <input\n              type=\"number\"\n              step=\"any\"\n              value={amount}\n              onChange={(e) => setAmount(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder={`Enter ${account.currency} amount`}\n              max={account.balance}\n              required\n            />\n            <p className=\"text-xs text-slate-400 mt-1\">Available: {account.balance} {account.currency}</p>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Exchange To</label>\n            <select\n              value={toFiat}\n              onChange={(e) => setToFiat(e.target.value)}\n              className=\"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              required\n            >\n              <option value=\"\">Select currency</option>\n              <option value=\"NGN\">Nigerian Naira (NGN)</option>\n              <option value=\"KES\">Kenyan Shilling (KES)</option>\n            </select>\n          </div>\n\n          <div className=\"bg-slate-900 rounded-lg p-4\">\n            <p className=\"text-slate-400 text-sm\">\n              ⚡ Real-time exchange rates applied\n            </p>\n          </div>\n\n          <div className=\"flex space-x-3 pt-4\">\n            <button \n              type=\"submit\" \n              disabled={loading}\n              className=\"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white py-3 px-4 rounded-lg font-medium transition-colors\"\n            >\n              {loading ? 'Exchanging...' : 'Exchange'}\n            </button>\n            <button type=\"button\" onClick={onClose} className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors\">\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}